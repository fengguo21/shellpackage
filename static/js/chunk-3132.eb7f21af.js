(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-3132"],{"2m8j":function(t,e,i){"use strict";i.d(e,"a",function(){return s}),i.d(e,"b",function(){return o});var a=i("my3Q"),n=i.n(a),s=function(t){return n.a.get(""+t)},o=function(t,e){n.a.set(""+t,e)}},B97m:function(t,e,i){!function(t){"use strict";!function(){if("undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style"),i=" .timeline { padding: 0; position: relative; list-style: none; font-family: PingFangSC-light, Avenir, Helvetica, Arial, Hiragino Sans GB, Microsoft YaHei, sans-serif; -webkit-font-smoothing: antialiased; margin: 10px 20px; } .timeline:after { position: absolute; content: ''; left: 0; top: 0; width: 1px; height: 100%; background-color: var(--timelineTheme); } .timeline-item { position: relative; margin: 1.5em 0 0 28px; padding-bottom: 1.5em; border-bottom: 1px dotted var(--timelineTheme); } .timeline-item:last-child { border-bottom: none; } .timeline-circle { position: absolute; top: .28em; left: -34px; width: 10px; height: 10px; border-radius: 50%; border: 1px solid var(--timelineTheme); background-color: var(--timelineTheme); z-index: 1; box-sizing: content-box; } .timeline-circle.hollow { background-color: var(--timelineBg); } .timeline-title { position: relative; display: inline-block; /** * BFC inline-block 元素与其兄弟元素、子元素和父元素的外边距都不会折叠（包括其父元素和子元素） */ cursor: crosshair; margin: -.15em 0 15px 28px } .timeline-title:not(:first-child) { margin-top: 28px; } .timeline-title-circle { left: -36px; top: .15em; width: 16px; height: 16px; } .timeline-others { width: 40px; height: auto; top: .2em; left: -48px; line-height: 1; padding: 2px 0; text-align: center; border: none; background-color: var(--timelineBg); } ";e.type="text/css",e.styleSheet?e.styleSheet.cssText=i:e.appendChild(document.createTextNode(i)),t.appendChild(e)}}();var e={render:function(){var t=this.$createElement,e=this._self._c||t;return e("ul",{ref:"timeline",staticClass:"timeline"},[this._t("default")],2)},staticRenderFns:[],name:"Timeline",props:{timelineTheme:{type:String,default:"#dbdde0"},timelineBg:{type:String,default:"#fff"}},mounted:function(){var t=this.$refs.timeline;t.style.setProperty("--timelineTheme",this.timelineTheme),t.style.setProperty("--timelineBg",this.timelineBg)}};!function(){if("undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText="":e.appendChild(document.createTextNode("")),t.appendChild(e)}}();var i={name:"TimelineItemBase",props:{bgColor:{type:String,default:""},lineColor:{type:String,default:""},hollow:{type:Boolean,default:!1},fontColor:{type:String,default:"#37414a"}},data:function(){return{slotOthers:!1}},computed:{circleStyle:function(){if(this.bgColor||this.lineColor||this.hollow){var t={};return this.bgColor&&(t={"border-color":this.bgColor,"background-color":this.bgColor}),this.lineColor&&(t=Object.assign({},t,{"border-color":this.lineColor})),t}},itemStyle:function(){return{color:this.fontColor}},slotClass:function(){var t="";return this.slotOthers?t="timeline-others":this.hollow&&(t="hollow"),t}},mounted:function(){this.slotOthers=!!this.$refs.others.innerHTML}};!function(){if("undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText="":e.appendChild(document.createTextNode("")),t.appendChild(e)}}();var a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"timeline-item",style:this.itemStyle},[e("div",{ref:"others",staticClass:"timeline-circle",class:this.slotClass,style:this.circleStyle},[this._t("others")],2),this._v(" "),this._t("default")],2)},staticRenderFns:[],extends:i};!function(){if("undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText="":e.appendChild(document.createTextNode("")),t.appendChild(e)}}();var n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"timeline-title",style:this.itemStyle},[e("div",{ref:"others",staticClass:"timeline-circle timeline-title-circle",class:this.slotClass,style:this.circleStyle},[this._t("others")],2),this._v(" "),this._t("default")],2)},staticRenderFns:[],extends:i};"undefined"!=typeof window&&window.Vue&&(window.Vue.component(e.name,e),window.Vue.component(a.name,a),window.Vue.component(n.name,n)),t.Timeline=e,t.TimelineItem=a,t.TimelineTitle=n,Object.defineProperty(t,"__esModule",{value:!0})}(e)},Bpof:function(t,e,i){"use strict";var a=i("ub4q");i.n(a).a},BznZ:function(t,e,i){"use strict";i.d(e,"d",function(){return n}),i.d(e,"c",function(){return s}),i.d(e,"e",function(){return o}),i.d(e,"f",function(){return l}),i.d(e,"a",function(){return r}),i.d(e,"b",function(){return c});var a=i("t3Un");function n(t){return Object(a.a)({url:"/app/analysis-data/enterType",method:"post",data:t})}function s(t){return Object(a.a)({url:"/app/analysis-data/enterfield",method:"post",data:t})}function o(t){return Object(a.a)({url:"/app/analysis-data/enter",method:"post",data:t})}function l(t){return Object(a.a)({url:"/app/analysis-data/enter-create",method:"post",data:t})}function r(t){return Object(a.a)({url:"/app/analysis-data/enterdel",method:"post",data:t})}function c(t){return Object(a.a)({url:"/app/analysis-data/enterinfo",method:"post",data:t})}},Cxz2:function(t,e,i){"use strict";var a=i("yFpR");i.n(a).a},X9Rj:function(t,e,i){"use strict";i.d(e,"b",function(){return n}),i.d(e,"a",function(){return s});var a=i("t3Un");function n(t){return Object(a.a)({url:"/app/analysis-data/dashboard",method:"post",data:t})}function s(t){return Object(a.a)({url:"/app/analysis-data/sellocal",method:"post",data:t})}},bUpD:function(t,e,i){},ehf2:function(t,e,i){"use strict";i.r(e);var a=i("2kRx"),n=i.n(a),s=i("s6Sh"),o=i("88Rz"),l=i.n(o),r=i("7Qib");i("+9CQ");var c={props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"},chartData:{type:Array,required:!0}},data:function(){return{chart:null}},watch:{chartData:{deep:!0,handler:function(t){this.initChart(t)}}},mounted:function(){var t=this;this.initChart(this.chartData),this.__resizeHanlder=Object(r.a)(function(){t.chart&&t.chart.resize()},100),window.addEventListener("resize",this.__resizeHanlder)},beforeDestroy:function(){this.chart&&(window.removeEventListener("resize",this.__resizeHanlder),this.chart.dispose(),this.chart=null)},methods:{initChart:function(t){var e=this;console.log(t,"=============================222222222222222");var i=[];e.chartData.forEach(function(t){i.push(t[0])}),console.log(i,"]]]]]]]]]]]"),this.chart=l.a.init(this.$el),this.chart.on("click",function(t){e.$emit("scatterDetail"),console.log(t.name)}),this.chart.setOption({color:["#efb365","#EB8705","#d48265","#91c7ae"],title:{text:"活动分析统计",textStyle:{fontSize:16,color:"#404040",lineHeight:50,fontWeight:400},left:"left",top:"1%"},xAxis:{data:i,splitLine:{lineStyle:{type:"dashed"}}},yAxis:{axisTick:{show:!1},axisLine:{show:!1}},grid:{left:10,right:10,bottom:20,top:60,containLabel:!0},series:[{type:"scatter",name:"1990",symbol:"circle",symbolSize:function(t){return 2*Math.sqrt(t[1])},label:{emphasis:{show:!0,formatter:function(t){return t.data[2]},position:"top"}},data:t}]})}}},h=i("ZrdR"),d=Object(h.a)(c,function(){var t=this.$createElement;return(this._self._c||t)("div",{class:this.className,style:{height:this.height,width:this.width}})},[],!1,null,null,null);d.options.__file="scatter.vue";var u=d.exports,m={props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"},autoResize:{type:Boolean,default:!0},chartData:{type:Object,required:!0}},data:function(){return{chart:null}},watch:{chartData:{deep:!0,handler:function(t){this.initChart(t)}}},mounted:function(){var t=this;this.initChart(),this.autoResize&&(this.__resizeHanlder=Object(r.a)(function(){t.chart&&t.chart.resize()},100),window.addEventListener("resize",this.__resizeHanlder)),document.getElementsByClassName("sidebar-container")[0].addEventListener("transitionend",this.__resizeHanlder)},beforeDestroy:function(){this.chart&&(this.autoResize&&window.removeEventListener("resize",this.__resizeHanlder),document.getElementsByClassName("sidebar-container")[0].removeEventListener("transitionend",this.__resizeHanlder),this.chart.dispose(),this.chart=null)},methods:{setOptions:function(t){this.chart.setOption({color:["#efb365","#EB8705","#d48265","#91c7ae"],title:{text:"各入口活跃明细",textStyle:{fontSize:16,color:"#404040",lineHeight:50,fontWeight:400}},xAxis:{data:this.chartData.date,boundaryGap:!1,axisTick:{show:!1}},grid:{left:25,right:25,bottom:20,top:60,containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"cross"},padding:[5,10]},yAxis:{axisTick:{show:!1},axisLine:{show:!1}},legend:{},series:t})},initChart:function(){var t=[],e={name:this.chartData.name,itemStyle:{normal:{lineStyle:{width:2}}},smooth:!1,type:"line",data:this.chartData.value,animationDuration:2800,animationEasing:"cubicInOut"};t.push(e),this.chart=this.$echarts.init(this.$el),this.setOptions(t)}}},f=Object(h.a)(m,function(){var t=this.$createElement;return(this._self._c||t)("div",{class:this.className,style:{height:this.height,width:this.width}})},[],!1,null,null,null);f.options.__file="LineChart.vue";var p=f.exports;i("+9CQ");var v={props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"},chartData:{type:Array,required:!0}},data:function(){return{chart:null}},mounted:function(){var t=this;this.initChart(this.chartData),this.__resizeHanlder=Object(r.a)(function(){t.chart&&t.chart.resize()},100),window.addEventListener("resize",this.__resizeHanlder)},beforeDestroy:function(){this.chart&&(window.removeEventListener("resize",this.__resizeHanlder),this.chart.dispose(),this.chart=null)},methods:{initChart:function(t){var e=[],i=[];t.forEach(function(t){e.push(t.value),i.push(t.name)}),this.chart=l.a.init(this.$el),this.chart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},title:{text:"各门店活跃明细",textStyle:{fontSize:16,color:"#404040",lineHeight:50,fontWeight:400}},grid:{top:60,left:"2%",right:"2%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:i,axisTick:{alignWithLabel:!0}}],yAxis:{type:"value",axisTick:{show:!1},axisLine:{show:!1}},series:{name:"访问量",type:"bar",stack:"vistors",barWidth:"20%",data:e,itemStyle:{color:"#eb8705"},animationDuration:6e3}})}}},g=Object(h.a)(v,function(){var t=this.$createElement;return(this._self._c||t)("div",{class:this.className,style:{height:this.height,width:this.width}})},[],!1,null,null,null);g.options.__file="BarChart.vue";var y=g.exports,b=i("2m8j"),_=i("0rRK"),w=i.n(_),C=i("BznZ"),x=i("X9Rj"),S=i("t3Un");function D(t){return Object(S.a)({url:"/app/analysis-data/selact",method:"post",data:t})}function L(t){return Object(S.a)({url:"/app/analysis-data/activefield",method:"post",data:t})}var k={VDistpicker:w.a,components:{},props:{dialogFormVisible:{type:Boolean,required:!0,default:!0}},data:function(){return{props:{value:"value",label:"label"},props2:{value:"value",label:"name"},props3:{value:"value",label:"name"},formLabelWidth:"120px",activityList:[],storeList:[],value5:"",pickerOptions2:{shortcuts:[{text:"最近一周",onClick:function(t){var e=new Date,i=new Date;i.setTime(i.getTime()-6048e5),t.$emit("pick",[i,e])}},{text:"最近一个月",onClick:function(t){var e=new Date,i=new Date;i.setTime(i.getTime()-2592e6),t.$emit("pick",[i,e])}},{text:"最近三个月",onClick:function(t){var e=new Date,i=new Date;i.setTime(i.getTime()-7776e6),t.$emit("pick",[i,e])}}]},local:[],form:{active:"",dateRange:[],enter:{class_1:"",comm:""},name:"",lat:"",local:this.newLocal}}},computed:{newLocal:function(){var t=[{province:"",city:"",storeId:""}];return t[0].province=this.local[0],t[0].city=this.local[1],t[0].storeId=3===this.local.length?this.local[2]:"",t}},created:function(){this.getEnterType(),this.getActivityList(),this.getActivityDemons(),this.getEventList(),b.a("storeList")?this.storeList=b.a("storeList"):this.getStoreList()},methods:{enterChange:function(t){console.log(t,"--------------"),t.length>0&&(this.form.enter.class_1=t[0]),t.length>1&&(this.form.enter.comm=t[1])},activeChange:function(t){console.log(t,"--------------");var e={class_1:"",comm:""};t.length>0&&(e.class_1=t[0]),t.length>1&&(e.comm=t[1]),this.form.active=e},getStoreList:function(t){var e=this;Object(x.a)(t).then(function(t){console.log(t.data.data,"========================="),e.storeList=t.data.data})},getEnterType:function(){var t=this;Object(C.d)().then(function(e){console.log(e.data.data),t.options2=e.data.data})},getActivityList:function(){var t=this;D().then(function(e){console.log(e.data.data,"--------------"),t.activityList=e.data.data})},getActivityDemons:function(){var t=this;L().then(function(e){console.log(e.data,"---------------------"),t.activityDemons=e.data})},createActivity:function(){var t=this;this.form.local=this.newLocal,console.log(this.form),function(t){return Object(S.a)({url:"/app/analysis-data/active-create",method:"post",data:t})}(this.form).then(function(e){200===e.status&&t.$emit("addSuccess")})},getEventList:function(){Object(S.a)({url:"/app/analysis-data/selevent",method:"post",data:{}}).then(function(t){})},getGoodsList:function(){(function(t){return Object(S.a)({url:"/app/analysis-data/goods",method:"post",data:t})})().then(function(t){})},cancelNew:function(){this.$emit("cancel")}}},T=(i("Cxz2"),Object(h.a)(k,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-dialog",{attrs:{visible:t.dialogFormVisible,"before-close":t.cancelNew,width:"60%",title:"新建活动分析"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[i("el-form",{attrs:{model:t.form}},[i("el-form-item",{attrs:{"label-width":t.formLabelWidth,rules:{required:!0,message:"名称不能为空",trigger:"blur"},label:"活动分析名称"}},[i("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),i("el-form-item",{attrs:{"label-width":t.formLabelWidth,label:"活动选择"}},[i("el-cascader",{attrs:{options:t.activityList,props:t.props3,placeholder:"试试搜索：指南","change-on-select":""},on:{change:t.activeChange}})],1),t._v(" "),i("el-form-item",{attrs:{"label-width":t.formLabelWidth,label:"分析维度选择"}},[i("el-select",{attrs:{placeholder:"PV"},model:{value:t.form.lat,callback:function(e){t.$set(t.form,"lat",e)},expression:"form.lat"}},t._l(t.activityDemons,function(t,e){return i("el-option",{key:e,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),i("el-form-item",{attrs:{"label-width":t.formLabelWidth,label:"用户入口选择"}},[i("el-cascader",{attrs:{options:t.options2,props:t.props,placeholder:"试试搜索：指南","change-on-select":""},on:{change:t.enterChange}})],1),t._v(" "),i("el-form-item",{attrs:{"label-width":t.formLabelWidth,label:"上/下线时间选择"}},[i("el-date-picker",{attrs:{"picker-options":t.pickerOptions2,"value-format":"yyyyMMdd",type:"daterange","range-separator":"至","start-placeholder":"上线日期","end-placeholder":"下线日期",align:"right"},model:{value:t.form.dateRange,callback:function(e){t.$set(t.form,"dateRange",e)},expression:"form.dateRange"}})],1),t._v(" "),i("el-form-item",{attrs:{"label-width":t.formLabelWidth,label:"地区"}},[i("el-cascader",{attrs:{options:t.storeList,props:t.props2,filterable:"",placeholder:"试试搜索：上海","change-on-select":""},model:{value:t.local,callback:function(e){t.local=e},expression:"local"}})],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:t.cancelNew}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"warning"},on:{click:t.createActivity}},[t._v("保存至分析")])],1)],1)],1)},[],!1,null,"6a90fea0",null));T.options.__file="newActivity.vue";var O=T.exports,z=i("B97m");i("+9CQ");var E=["6933万公顷"],j={props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"25px"},chartData:{type:Array,required:!0},barColor:{type:String,required:!0}},data:function(){return{chart:null}},mounted:function(){var t=this;this.initChart(this.chartData,this.barColor),this.__resizeHanlder=Object(r.a)(function(){t.chart&&t.chart.resize()},100),window.addEventListener("resize",this.__resizeHanlder)},beforeDestroy:function(){this.chart&&(window.removeEventListener("resize",this.__resizeHanlder),this.chart.dispose(),this.chart=null)},methods:{initChart:function(t,e){this.chart=l.a.init(this.$el),this.chart.setOption({tooltip:{show:!0,formatter:"{b} :{c}%"},grid:{left:"0",top:"0",bottom:"0",right:"0"},xAxis:[{max:100,type:"value",axisTick:{show:!1},axisLine:{show:!1},axisLabel:{show:!1},splitLine:{show:!1}}],yAxis:[{type:"category",axisTick:{show:!1},axisLine:{show:!1}}],series:[{name:" ",type:"bar",barWidth:10,silent:!0,itemStyle:{normal:{color:"#f7f7f7"}},barGap:"-100%",barCategoryGap:"50%",data:E.map(function(t){return 100})},{name:" ",type:"bar",barWidth:12,itemStyle:{normal:{color:e}},label:{normal:{show:!1}},data:t}]})}}},B=Object(h.a)(j,function(){var t=this.$createElement;return(this._self._c||t)("div",{class:this.className,style:{height:this.height,width:this.width}})},[],!1,null,null,null);B.options.__file="stepBar.vue";var F=B.exports,A={components:{Timeline:z.Timeline,TimelineItem:z.TimelineItem,TimelineTitle:z.TimelineTitle,stepBar:F},props:{scatterDetailShow:{type:Boolean,required:!0,default:!0}},data:function(){return{mainColor:"#eb8705",barWidth:"100%"}},methods:{cancel:function(){this.$emit("cancel")}}},I=(i("Bpof"),Object(h.a)(A,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{attrs:{visible:t.scatterDetailShow,"before-close":t.cancel,width:"50%",title:"所有活动"},on:{"update:visible":function(e){t.scatterDetailShow=e}}},[i("div",{staticClass:"head"},[i("div",{staticClass:"title"},[t._v("总转换率")]),t._v(" "),i("div",{staticClass:"info"},[t._v("2.69%")])]),t._v(" "),i("div",{staticClass:"content111"},[i("timeline",[i("timeline-item",{attrs:{hollow:!0}},[i("div",{staticClass:"numItem"},[i("div",[i("div",{staticClass:"title"},[t._v("点击活动-爆款推荐")]),t._v(" "),i("div",{staticClass:"bottomInfo"},[i("div",{staticClass:"left"},[t._v("122人")]),t._v(" "),i("div",{staticClass:"right"},[t._v("3%")])])])])]),t._v(" "),i("timeline-item",{attrs:{hollow:!0}},[i("div",{staticClass:"numItem"},[i("div",[i("div",{staticClass:"title"},[t._v("进入详情页")]),t._v(" "),i("stepBar",{attrs:{"chart-data":[11],"bar-color":t.mainColor,width:t.barWidth}}),t._v(" "),i("div",{staticClass:"bottomInfo"},[i("div",{staticClass:"left"},[t._v("122人")]),t._v(" "),i("div",{staticClass:"right"},[t._v("3%")])])],1)])]),t._v(" "),i("timeline-item",{attrs:{hollow:!0}},[i("div",{staticClass:"numItem"},[i("div",[i("div",{staticClass:"title"},[t._v("加入购物车")]),t._v(" "),i("stepBar",{attrs:{"chart-data":[11],"bar-color":t.mainColor}}),t._v(" "),i("div",{staticClass:"bottomInfo"},[i("div",{staticClass:"left"},[t._v("122人")]),t._v(" "),i("div",{staticClass:"right"},[t._v("3%")])])],1)])]),t._v(" "),i("timeline-item",{attrs:{hollow:!0}},[i("div",{staticClass:"numItem"},[i("div",[i("div",{staticClass:"title"},[t._v("提交订单")]),t._v(" "),i("stepBar",{attrs:{"chart-data":[11],"bar-color":t.mainColor}}),t._v(" "),i("div",{staticClass:"bottomInfo"},[i("div",{staticClass:"left"},[t._v("122人")]),t._v(" "),i("div",{staticClass:"right"},[t._v("3%")])])],1)])]),t._v(" "),i("timeline-item",{attrs:{hollow:!0}},[i("div",{staticClass:"numItem"},[i("div",[i("div",{staticClass:"title"},[t._v("完成订单")]),t._v(" "),i("stepBar",{attrs:{"chart-data":[11],"bar-color":t.mainColor}}),t._v(" "),i("div",{staticClass:"bottomInfo"},[i("div",{staticClass:"left"},[t._v("122人")]),t._v(" "),i("div",{staticClass:"right"},[t._v("3%")])])],1)])])],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:t.cancel}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"warning"},on:{click:t.cancel}},[t._v("确定")])],1)])},[],!1,null,"7dee39b2",null));I.options.__file="scatterDetail.vue";var $=I.exports,N=i("fo8u"),H={components:{DropdownMenu:s.a,scatter:u,LineChart:p,BarChart:y,mapChart:N.a,newActivity:O,scatterDetail:$},data:function(){return{activeInfoForm:{acid:"",fild:""},lat:"",chinaMapShow:!1,dialogFormVisible:!1,scatterDetailShow:!1,lineChartData:[],activityDemons:[],activityList:[],tags:[],chinaMapData:[],scatterData:[],mapShow:!1,isFullscreen:!1}},computed:{mapheight:function(){return this.isFullscreen?"100%":"300px"}},created:function(){this.getActivityList(),this.getActivityDemons(),this.initActivity()},methods:{addSuccess:function(){console.log("success----------------------"),this.dialogFormVisible=!1,this.initActivity()},deleteActivity:function(t){var e=this;(function(t){return Object(S.a)({url:"/app/analysis-data/activedel",method:"post",data:t})})({acid:t}).then(function(t){200===t.status&&e.initActivity()})},activityDetail:function(t){var e=this;this.activeInfoForm.acid&&this.activeInfoForm.fild&&(this.chinaMapShow=!1,function(t){return Object(S.a)({url:"/app/analysis-data/activeinfo",method:"post",data:t})}(this.activeInfoForm).then(function(t){e.chinaMapData=t.data.data.tutu,e.storeList=t.data.data.store,e.lineChartData=t.data.data.charts,e.chinaMapShow=!0}))},initActivity:function(){var t=this,e=this.$loading();(function(t){return Object(S.a)({url:"/app/analysis-data/active",method:"post",data:t})})({lat:this.lat}).then(function(i){t.mapShow=!1,t.tags=i.data.data.label,t.activeInfoForm.acid=i.data.data.label[0].value,t.scatterData=i.data.data.zt,e.close(),t.mapShow=!0,t.activityDetail()})},getActivityDemons:function(){var t=this;L().then(function(e){t.activityDemons=e.data.data,t.activeInfoForm.fild=e.data.data[0].id,t.activityDetail()})},fullScreen:function(){var t=this;console.log(this.$refs.map),n.a.enabled&&(n.a.toggle(this.$refs.map),this.isFullscreen=!0,n.a.on("change",function(){n.a.isFullscreen?t.isFullscreen=!0:t.isFullscreen=!1}))},getActivityList:function(){var t=this;D().then(function(e){t.activityList=e.data.data})},handleClose:function(t){this.tags.splice(this.tags.indexOf(t),1)},newActivity:function(){this.dialogFormVisible=!0},cancelNew:function(){this.dialogFormVisible=!1},newBuild:function(){this.dialogFormVisible=!1},showScatterDetail:function(){this.scatterDetailShow=!0},cancelCatterDetail:function(){this.scatterDetailShow=!1}}},W=(i("jBoD"),Object(h.a)(H,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container documentation-container"},[i("el-form",{ref:"form",attrs:{inline:!0}},[i("el-form-item",{attrs:{"label-width":t.formLabelWidth,label:"分析维度选择"}},[i("el-select",{attrs:{placeholder:"请选择"},on:{change:t.initActivity},model:{value:t.lat,callback:function(e){t.lat=e},expression:"lat"}},t._l(t.activityDemons,function(t,e){return i("el-option",{key:e,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),i("el-form-item",{staticStyle:{float:"right"}},[i("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:t.newActivity}},[t._v("新建活动分析")])],1)],1),t._v(" "),i("el-row",{staticStyle:{"margin-bottom":"32px",background:"white"},attrs:{gutter:20}},[i("el-col",{attrs:{span:15}},[i("div",{staticClass:"chart-wrapper"},[t.mapShow?i("scatter",{attrs:{"chart-data":t.scatterData},on:{scatterDetail:t.showScatterDetail}}):t._e()],1)]),t._v(" "),i("el-col",{attrs:{span:9}},[i("div",{staticClass:"tags"},[i("div",{ref:"map",staticClass:"title"},[t._v("统计字段管理")]),t._v(" "),i("div",{staticClass:"labels"},t._l(t.tags,function(e){return i("el-tag",{key:e.name,staticClass:"tag",attrs:{"disable-transitions":!1,closable:"",type:"warning"},on:{close:function(i){t.deleteActivity(e.value)}}},[t._v(t._s(e.name))])}))])])],1),t._v(" "),i("el-form",{ref:"form",attrs:{inline:!0}},[i("el-form-item",{attrs:{"label-width":t.formLabelWidth,label:"需要分析的活动"}},[i("el-select",{attrs:{placeholder:"请选择"},on:{change:function(e){t.activityDetail(t.activeInfoForm)}},model:{value:t.activeInfoForm.acid,callback:function(e){t.$set(t.activeInfoForm,"acid",e)},expression:"activeInfoForm.acid"}},t._l(t.tags,function(t,e){return i("el-option",{key:e,attrs:{label:t.name,value:t.value}})}))],1),t._v(" "),i("el-form-item",{attrs:{"label-width":t.formLabelWidth,label:"需分析的活动类型\n"}},[i("el-select",{attrs:{placeholder:"PV"},on:{change:function(e){t.activityDetail(t.activeInfoForm)}},model:{value:t.activeInfoForm.fild,callback:function(e){t.$set(t.activeInfoForm,"fild",e)},expression:"activeInfoForm.fild"}},t._l(t.activityDemons,function(t,e){return i("el-option",{key:e,attrs:{label:t.name,value:t.id}})}))],1)],1),t._v(" "),i("el-row",{staticStyle:{"margin-bottom":"32px"},attrs:{gutter:20}},[i("el-col",{attrs:{span:16}},[i("div",{staticClass:"chart-wrapper"},[t.chinaMapShow?i("line-chart",{attrs:{"chart-data":t.lineChartData}}):t._e()],1)]),t._v(" "),i("el-col",{attrs:{span:8}},[i("div",{ref:"map",staticClass:"chart-wrapper"},[t.chinaMapShow?i("map-chart",{attrs:{height:t.mapheight,"chart-data":t.chinaMapData},on:{full:t.fullScreen}}):t._e()],1)])],1),t._v(" "),i("el-row",{staticStyle:{"margin-bottom":"32px"},attrs:{gutter:20}},[i("el-col",{attrs:{span:18}},[i("div",{staticClass:"chart-wrapper"},[t.chinaMapShow?i("bar-chart",{attrs:{"chart-data":t.storeList}}):t._e()],1)]),t._v(" "),i("el-col",{attrs:{span:6}},[i("div",{staticClass:"chart-wrapper"},[i("div",{staticClass:"rankWrapper"},[i("div",{staticClass:"title"},[t._v("入口各区域占比排行")]),t._v(" "),i("div",{staticClass:"contentWrapper"},t._l(t.chinaMapData,function(e,a){return i("div",{key:a,staticClass:"contentItem"},[a<5?[i("div",{staticClass:"index"},[0==a?i("svg-icon",{staticStyle:{fill:"#e12c5e"},attrs:{"icon-class":"first"}}):t._e(),t._v(" "),1==a?i("svg-icon",{staticStyle:{fill:"#fbce07"},attrs:{"icon-class":"second"}}):t._e(),t._v(" "),2==a?i("svg-icon",{staticStyle:{fill:"#a6a6a6"},attrs:{"icon-class":"third"}}):t._e(),t._v(" "),a>2?i("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(a+1))]):t._e()],1),t._v(" "),i("div",{staticClass:"dist"},[t._v(t._s(e.name))]),t._v(" "),i("div",{staticClass:"percent"},[t._v(t._s(e.value))])]:t._e()],2)}))])])])],1),t._v(" "),i("new-activity",{attrs:{"dialog-form-visible":t.dialogFormVisible},on:{cancel:t.cancelNew,addSuccess:t.addSuccess}}),t._v(" "),i("scatter-detail",{attrs:{"scatter-detail-show":t.scatterDetailShow},on:{cancel:t.cancelCatterDetail}})],1)},[],!1,null,"4432f654",null));W.options.__file="index.vue";e.default=W.exports},jBoD:function(t,e,i){"use strict";var a=i("bUpD");i.n(a).a},ub4q:function(t,e,i){},yFpR:function(t,e,i){}}]);