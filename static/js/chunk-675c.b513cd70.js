(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-675c"],{Bpof:function(t,e,a){"use strict";var i=a("nIhZ");a.n(i).a},BznZ:function(t,e,a){"use strict";a.d(e,"b",function(){return n}),a.d(e,"a",function(){return s}),a.d(e,"c",function(){return l}),a.d(e,"d",function(){return r});var i=a("t3Un");function n(t){return Object(i.a)({url:"/app/analysis-data/enterType",method:"post",params:t})}function s(t){return Object(i.a)({url:"/app/analysis-data/enterfield",method:"post",params:t})}function l(t){return Object(i.a)({url:"/app/analysis-data/enter",method:"post",params:t})}function r(t){return Object(i.a)({url:"/app/analysis-data/enter-create",method:"post",params:t})}},CHEL:function(t,e,a){"use strict";var i=a("k5sZ");a.n(i).a},X9Rj:function(t,e,a){"use strict";a.d(e,"b",function(){return n}),a.d(e,"a",function(){return s});var i=a("t3Un");function n(t){return Object(i.a)({url:"/app/analysis-data/dashboard",method:"post",params:t})}function s(t){return Object(i.a)({url:"/app/analysis-data/sellocal",method:"post",params:t})}},bR2A:function(t,e,a){"use strict";var i=a("jrF1");a.n(i).a},ehf2:function(t,e,a){"use strict";a.r(e);var i=a("k7+O"),n=a.n(i),s=a("s6Sh"),l=a("MT78"),r=a.n(l),o=a("7Qib");a("gX0l");var c={props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"},percent:{type:Number,default:0}},data:function(){return{chart:null}},mounted:function(){var t=this;this.initChart(this.percent),this.__resizeHanlder=Object(o.a)(function(){t.chart&&t.chart.resize()},100),window.addEventListener("resize",this.__resizeHanlder)},beforeDestroy:function(){this.chart&&(window.removeEventListener("resize",this.__resizeHanlder),this.chart.dispose(),this.chart=null)},methods:{initChart:function(t){this.chart=r.a.init(this.$el);var e=this;this.chart.on("click",function(t){e.$emit("scatterDetail"),console.log(t.name)}),this.chart.setOption({color:["#efb365","#EB8705","#d48265","#91c7ae"],title:{text:"活动分析统计",textStyle:{fontSize:16,color:"#404040",lineHeight:50,fontWeight:400},left:"left",top:"1%"},xAxis:{data:["eeee","Moeeen","Tue","Wed","Thu","Fri","Sat"]},yAxis:{axisTick:{show:!1},axisLine:{show:!1}},grid:{left:10,right:10,bottom:20,top:60,containLabel:!0},series:[{type:"scatter",name:"1990",symbol:"circle",symbolSize:function(t){return 2*Math.sqrt(t[1])},label:{emphasis:{show:!0,formatter:function(t){return t.data[2]},position:"top"}},data:[["eeee",50],["Moeeen",210]]}]})}}},u=a("KHd+"),h=Object(u.a)(c,function(){var t=this.$createElement;return(this._self._c||t)("div",{class:this.className,style:{height:this.height,width:this.width}})},[],!1,null,null,null);h.options.__file="scatter.vue";var m=h.exports,v={props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"},autoResize:{type:Boolean,default:!0},chartData:{type:Object,required:!0}},data:function(){return{chart:null}},watch:{chartData:{deep:!0,handler:function(t){this.setOptions(t)}}},mounted:function(){var t=this;this.initChart(),this.autoResize&&(this.__resizeHanlder=Object(o.a)(function(){t.chart&&t.chart.resize()},100),window.addEventListener("resize",this.__resizeHanlder)),document.getElementsByClassName("sidebar-container")[0].addEventListener("transitionend",this.__resizeHanlder)},beforeDestroy:function(){this.chart&&(this.autoResize&&window.removeEventListener("resize",this.__resizeHanlder),document.getElementsByClassName("sidebar-container")[0].removeEventListener("transitionend",this.__resizeHanlder),this.chart.dispose(),this.chart=null)},methods:{setOptions:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.a,a=t.b;t.c;this.chart.setOption({color:["#f4e0c6","#efb365","#EB8705","#d48265","#91c7ae"],title:{text:"各入口活跃明细",textStyle:{fontSize:16,color:"#404040",lineHeight:50,fontWeight:400}},legend:{right:10},xAxis:{data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],boundaryGap:!1,axisTick:{show:!1}},grid:{left:10,right:10,bottom:20,top:60,containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"cross"},padding:[5,10]},yAxis:{axisTick:{show:!1},axisLine:{show:!1}},series:[{name:"所有活动",itemStyle:{normal:{lineStyle:{width:2}}},smooth:!1,type:"line",data:e,animationDuration:2800,animationEasing:"cubicInOut"},{name:"活动一",itemStyle:{normal:{lineStyle:{width:2}}},smooth:!1,type:"line",data:a,animationDuration:2800,animationEasing:"cubicInOut"}]})},initChart:function(){this.chart=this.$echarts.init(this.$el),this.setOptions(this.chartData)}}},d=Object(u.a)(v,function(){var t=this.$createElement;return(this._self._c||t)("div",{class:this.className,style:{height:this.height,width:this.width}})},[],!1,null,null,null);d.options.__file="LineChart.vue";var f=d.exports;a("gX0l");var p={props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},data:function(){return{chart:null}},mounted:function(){var t=this;this.initChart(),this.__resizeHanlder=Object(o.a)(function(){t.chart&&t.chart.resize()},100),window.addEventListener("resize",this.__resizeHanlder)},beforeDestroy:function(){this.chart&&(window.removeEventListener("resize",this.__resizeHanlder),this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=r.a.init(this.$el),this.chart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},title:{text:"活动1-门店销售额",textStyle:{fontSize:16,color:"#404040",lineHeight:50,fontWeight:400}},grid:{top:60,left:"2%",right:"2%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],axisTick:{alignWithLabel:!0}}],yAxis:{type:"value",axisTick:{show:!1},axisLine:{show:!1}},series:{name:"pageA",type:"bar",stack:"vistors",barWidth:"20%",data:[79,52,200,334,390,330,220],itemStyle:{color:"#eb8705"},animationDuration:6e3}})}}},g=Object(u.a)(p,function(){var t=this.$createElement;return(this._self._c||t)("div",{class:this.className,style:{height:this.height,width:this.width}})},[],!1,null,null,null);g.options.__file="BarChart.vue";var b=g.exports,y=(a("Qyje"),a("eE85")),_=a.n(y),w=a("BznZ"),C=a("X9Rj"),x=a("t3Un");function S(t){return Object(x.a)({url:"/app/analysis-data/selact",method:"post",params:t})}function L(t){return Object(x.a)({url:"/app/analysis-data/activeField",method:"post",params:t})}var k={VDistpicker:_.a,components:{},props:{dialogFormVisible:{type:Boolean,required:!0,default:!0}},data:function(){return{formLabelWidth:"120px",activityList:[],storeList:[],value5:"",pickerOptions2:{shortcuts:[{text:"最近一周",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-6048e5),t.$emit("pick",[a,e])}},{text:"最近一个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-2592e6),t.$emit("pick",[a,e])}},{text:"最近三个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-7776e6),t.$emit("pick",[a,e])}}]},form:{active:"",dateRange:[["20180405","20180406"]],enter:{class_1:"",comm:""},name:"",lat:1,local:{province:"",city:"",storeId:""}}}},created:function(){this.getEnterType(),this.getActivityList(),this.getActivityDemons(),this.getEventList(),this.getGoodsList()},methods:{selectDistrict:function(t){this.form.local.city=t.city.value,this.form.local.province=t.province.value,this.getStoreList({province:this.form.province,city:this.form.country})},enterChange:function(t){t.length>0&&(this.form.enter.class_1=t[0]),t.length>1&&(this.form.enter.comm=t[1])},getStoreList:function(){var t=this;Object(C.a)().then(function(e){console.log(e.data.data),t.storeList=e.data.data.storeid})},getEnterType:function(){var t=this;Object(w.b)().then(function(e){t.options2=e.data.data})},getActivityList:function(){var t=this;S().then(function(e){t.activityList=e.data.data})},getActivityDemons:function(){var t=this;L().then(function(e){t.activityList=e.data})},createActivity:function(){var t=this.form.active.pop(),e=[],a=this.form.dateRange;e.push(a),this.form.dateRange=e,this.form.active=t,console.log(this.form),function(t){return Object(x.a)({url:"/app/analysis-data/active-create",method:"post",params:t})}(this.form).then(function(t){})},getEventList:function(){var t=this;Object(x.a)({url:"/app/analysis-data/selevent",method:"post",params:{}}).then(function(e){t.activityList=e.data})},getGoodsList:function(){(function(t){return Object(x.a)({url:"/app/analysis-data/goods",method:"post",data:t})})().then(function(t){})},cancelNew:function(){this.$emit("cancel")},newBuild:function(){this.$emit("newBuild")}}},z=(a("bR2A"),Object(u.a)(k,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{attrs:{visible:t.dialogFormVisible,"before-close":t.cancelNew,width:"60%",title:"新建活动分析"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{"label-width":t.formLabelWidth,rules:{required:!0,message:"名称不能为空",trigger:"blur"},label:"活动分析名称"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{"label-width":t.formLabelWidth,label:"活动选择"}},[a("el-cascader",{attrs:{options:t.activityList,placeholder:"试试搜索：指南","change-on-select":""},model:{value:t.form.active,callback:function(e){t.$set(t.form,"active",e)},expression:"form.active"}})],1),t._v(" "),a("el-form-item",{attrs:{"label-width":t.formLabelWidth,label:"分析维度选择"}},[a("el-select",{attrs:{placeholder:"PV"},model:{value:t.form.region,callback:function(e){t.$set(t.form,"region",e)},expression:"form.region"}},[a("el-option",{attrs:{label:"销售额",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"销量",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"客单价",value:"3"}}),t._v(" "),a("el-option",{attrs:{label:"订单人数",value:"4"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{"label-width":t.formLabelWidth,label:"用户入口选择"}},[a("el-cascader",{attrs:{options:t.options2,placeholder:"试试搜索：指南","change-on-select":""},on:{change:t.enterChange}})],1),t._v(" "),a("el-form-item",{attrs:{"label-width":t.formLabelWidth,label:"上/下线时间选择"}},[a("el-date-picker",{attrs:{"picker-options":t.pickerOptions2,"value-format":"yyyyMMdd",type:"daterange","range-separator":"至","start-placeholder":"上线日期","end-placeholder":"下线日期",align:"right"}})],1),t._v(" "),a("el-form-item",{attrs:{"label-width":t.formLabelWidth,label:"地区"}},[a("v-distpicker",{staticClass:"distWapper",staticStyle:{float:"left","margin-right":"5px"},attrs:{"hide-area":""},on:{selected:t.selectDistrict}}),t._v(" "),a("el-select",{staticStyle:{float:"left","margin-right":"5px"},attrs:{placeholder:"门店"},model:{value:t.form.local.storeId,callback:function(e){t.$set(t.form.local,"storeId",e)},expression:"form.local.storeId"}},t._l(t.storeList,function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})}))],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.cancelNew}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"warning"},on:{click:t.createActivity}},[t._v("保存至分析")])],1)],1)],1)},[],!1,null,"6b01a09a",null));z.options.__file="newActivity.vue";var D=z.exports,O=a("W2Fo");a("gX0l");var E=["6933万公顷"],T={props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"25px"},chartData:{type:Array,required:!0},barColor:{type:String,required:!0}},data:function(){return{chart:null}},mounted:function(){var t=this;this.initChart(this.chartData,this.barColor),this.__resizeHanlder=Object(o.a)(function(){t.chart&&t.chart.resize()},100),window.addEventListener("resize",this.__resizeHanlder)},beforeDestroy:function(){this.chart&&(window.removeEventListener("resize",this.__resizeHanlder),this.chart.dispose(),this.chart=null)},methods:{initChart:function(t,e){this.chart=r.a.init(this.$el),this.chart.setOption({tooltip:{show:!0,formatter:"{b} :{c}%"},grid:{left:"0",top:"0",bottom:"0",right:"0"},xAxis:[{max:100,type:"value",axisTick:{show:!1},axisLine:{show:!1},axisLabel:{show:!1},splitLine:{show:!1}}],yAxis:[{type:"category",axisTick:{show:!1},axisLine:{show:!1}}],series:[{name:" ",type:"bar",barWidth:10,silent:!0,itemStyle:{normal:{color:"#f7f7f7"}},barGap:"-100%",barCategoryGap:"50%",data:E.map(function(t){return 100})},{name:" ",type:"bar",barWidth:12,itemStyle:{normal:{color:e}},label:{normal:{show:!1}},data:t}]})}}},j=Object(u.a)(T,function(){var t=this.$createElement;return(this._self._c||t)("div",{class:this.className,style:{height:this.height,width:this.width}})},[],!1,null,null,null);j.options.__file="stepBar.vue";var A=j.exports,B={components:{Timeline:O.Timeline,TimelineItem:O.TimelineItem,TimelineTitle:O.TimelineTitle,stepBar:A},props:{scatterDetailShow:{type:Boolean,required:!0,default:!0}},data:function(){return{mainColor:"#eb8705",barWidth:"100%"}},methods:{cancel:function(){this.$emit("cancel")}}},W=(a("Bpof"),Object(u.a)(B,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{visible:t.scatterDetailShow,"before-close":t.cancel,width:"50%",title:"所有活动"},on:{"update:visible":function(e){t.scatterDetailShow=e}}},[a("div",{staticClass:"head"},[a("div",{staticClass:"title"},[t._v("总转换率")]),t._v(" "),a("div",{staticClass:"info"},[t._v("2.69%")])]),t._v(" "),a("div",{staticClass:"content111"},[a("timeline",[a("timeline-item",{attrs:{hollow:!0}},[a("div",{staticClass:"numItem"},[a("div",[a("div",{staticClass:"title"},[t._v("点击活动-爆款推荐")]),t._v(" "),a("div",{staticClass:"bottomInfo"},[a("div",{staticClass:"left"},[t._v("122人")]),t._v(" "),a("div",{staticClass:"right"},[t._v("3%")])])])])]),t._v(" "),a("timeline-item",{attrs:{hollow:!0}},[a("div",{staticClass:"numItem"},[a("div",[a("div",{staticClass:"title"},[t._v("进入详情页")]),t._v(" "),a("stepBar",{attrs:{"chart-data":[11],"bar-color":t.mainColor,width:t.barWidth}}),t._v(" "),a("div",{staticClass:"bottomInfo"},[a("div",{staticClass:"left"},[t._v("122人")]),t._v(" "),a("div",{staticClass:"right"},[t._v("3%")])])],1)])]),t._v(" "),a("timeline-item",{attrs:{hollow:!0}},[a("div",{staticClass:"numItem"},[a("div",[a("div",{staticClass:"title"},[t._v("加入购物车")]),t._v(" "),a("stepBar",{attrs:{"chart-data":[11],"bar-color":t.mainColor}}),t._v(" "),a("div",{staticClass:"bottomInfo"},[a("div",{staticClass:"left"},[t._v("122人")]),t._v(" "),a("div",{staticClass:"right"},[t._v("3%")])])],1)])]),t._v(" "),a("timeline-item",{attrs:{hollow:!0}},[a("div",{staticClass:"numItem"},[a("div",[a("div",{staticClass:"title"},[t._v("提交订单")]),t._v(" "),a("stepBar",{attrs:{"chart-data":[11],"bar-color":t.mainColor}}),t._v(" "),a("div",{staticClass:"bottomInfo"},[a("div",{staticClass:"left"},[t._v("122人")]),t._v(" "),a("div",{staticClass:"right"},[t._v("3%")])])],1)])]),t._v(" "),a("timeline-item",{attrs:{hollow:!0}},[a("div",{staticClass:"numItem"},[a("div",[a("div",{staticClass:"title"},[t._v("完成订单")]),t._v(" "),a("stepBar",{attrs:{"chart-data":[11],"bar-color":t.mainColor}}),t._v(" "),a("div",{staticClass:"bottomInfo"},[a("div",{staticClass:"left"},[t._v("122人")]),t._v(" "),a("div",{staticClass:"right"},[t._v("3%")])])],1)])])],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.cancel}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"warning"},on:{click:t.cancel}},[t._v("确定")])],1)])},[],!1,null,"7dee39b2",null));W.options.__file="scatterDetail.vue";var $=W.exports;a("gX0l");var F={props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},data:function(){return{chart:null}},mounted:function(){var t=this;this.initChart(),this.__resizeHanlder=Object(o.a)(function(){t.chart&&t.chart.resize()},100),window.addEventListener("resize",this.__resizeHanlder)},beforeDestroy:function(){this.chart&&(window.removeEventListener("resize",this.__resizeHanlder),this.chart.dispose(),this.chart=null)},methods:{initChart:function(){var t=this;this.chart=r.a.init(this.$el,"macarons");var e=[{name:"安徽",value:66700},{name:"北京",value:60365},{name:"福建",value:69003},{name:"甘肃",value:13821},{name:"广东",value:179419},{name:"广西",value:32148},{name:"贵州",value:23958},{name:"海南",value:8833},{name:"河北",value:68955},{name:"河南",value:89746},{name:"黑龙江",value:24985},{name:"湖北",value:65377},{name:"湖南",value:56366},{name:"吉林",value:20140},{name:"江苏",value:155869},{name:"江西",value:40243},{name:"辽宁",value:45475},{name:"内蒙古",value:18158},{name:"宁夏",value:4870},{name:"青海",value:2780},{name:"山东",value:109596},{name:"山西",value:33375},{name:"陕西",value:38842},{name:"上海",value:68829},{name:"四川",value:62467},{name:"天津",value:22681},{name:"西藏",value:962},{name:"新疆",value:12374},{name:"云南",value:31154},{name:"浙江",value:233131},{name:"重庆",value:27925}],a={},i=[{name:"安徽",value:[{name:"支付金额",value:1616745},{name:"访客数",value:66700}]},{name:"北京",value:[{name:"支付金额",value:2156576},{name:"访客数",value:60365}]},{name:"福建",value:[{name:"支付金额",value:1719807},{name:"访客数",value:69003}]},{name:"甘肃",value:[{name:"支付金额",value:323535},{name:"访客数",value:13821}]},{name:"广东",value:[{name:"支付金额",value:4624719},{name:"访客数",value:179419}]},{name:"广西",value:[{name:"支付金额",value:662102},{name:"访客数",value:32148}]},{name:"贵州",value:[{name:"支付金额",value:620073},{name:"访客数",value:23958}]},{name:"海南",value:[{name:"支付金额",value:220491},{name:"访客数",value:8833}]},{name:"河北",value:[{name:"支付金额",value:1453640},{name:"访客数",value:68955}]},{name:"河南",value:[{name:"支付金额",value:1808798},{name:"访客数",value:89746}]},{name:"黑龙江",value:[{name:"支付金额",value:670433},{name:"访客数",value:24985}]},{name:"湖北",value:[{name:"支付金额",value:1617945},{name:"访客数",value:65377}]},{name:"湖南",value:[{name:"支付金额",value:1464625},{name:"访客数",value:56366}]},{name:"吉林",value:[{name:"支付金额",value:521960},{name:"访客数",value:20140}]},{name:"江苏",value:[{name:"支付金额",value:4663961},{name:"访客数",value:155869}]},{name:"江西",value:[{name:"支付金额",value:862185},{name:"访客数",value:40243}]},{name:"辽宁",value:[{name:"支付金额",value:1313990},{name:"访客数",value:45475}]},{name:"内蒙古",value:[{name:"支付金额",value:471542},{name:"访客数",value:18158}]},{name:"宁夏",value:[{name:"支付金额",value:112290},{name:"访客数",value:4870}]},{name:"青海",value:[{name:"支付金额",value:66695},{name:"访客数",value:2780}]},{name:"山东",value:[{name:"支付金额",value:2622393},{name:"访客数",value:109596}]},{name:"山西",value:[{name:"支付金额",value:620516},{name:"访客数",value:33375}]},{name:"陕西",value:[{name:"支付金额",value:881462},{name:"访客数",value:38842}]},{name:"上海",value:[{name:"支付金额",value:2359948},{name:"访客数",value:68829}]},{name:"四川",value:[{name:"支付金额",value:1772257},{name:"访客数",value:62467}]},{name:"天津",value:[{name:"支付金额",value:767996},{name:"访客数",value:22681}]},{name:"西藏",value:[{name:"支付金额",value:15957},{name:"访客数",value:962}]},{name:"新疆",value:[{name:"支付金额",value:321619},{name:"访客数",value:12374}]},{name:"云南",value:[{name:"支付金额",value:940737},{name:"访客数",value:31154}]},{name:"浙江",value:[{name:"支付金额",value:4802334},{name:"访客数",value:233131}]},{name:"重庆",value:[{name:"支付金额",value:706113},{name:"访客数",value:27925}]}];this.chart.showLoading();var n=r.a.getMap("china").geoJson.features;this.chart.hideLoading(),n.forEach(function(t){var e=t.properties.name;a[e]=t.properties.cp}),console.log(e),console.log(i);var s=function(t){for(var e=[],i=0;i<t.length;i++){var n=a[t[i].name];n&&e.push({name:t[i].name,value:n.concat(t[i].value)})}return e};this.chart.setOption({title:{text:"活动1-全国销售总额",subtext:"13,271,300元",x:"left",textStyle:{color:"#404040",fontFamily:"等线",fontSize:16},subtextStyle:{fontSize:26,fontFamily:"等线",color:"black"}},toolbox:{feature:{myTool2:{show:!0,title:"全屏",icon:"path://M432.45,595.444c0,2.177-4.661,6.82-11.305,6.82c-6.475,0-11.306-4.567-11.306-6.82s4.852-6.812,11.306-6.812C427.841,588.632,432.452,593.191,432.45,595.444L432.45,595.444z M421.155,589.876c-3.009,0-5.448,2.495-5.448,5.572s2.439,5.572,5.448,5.572c3.01,0,5.449-2.495,5.449-5.572C426.604,592.371,424.165,589.876,421.155,589.876L421.155,589.876z M421.146,591.891c-1.916,0-3.47,1.589-3.47,3.549c0,1.959,1.554,3.548,3.47,3.548s3.469-1.589,3.469-3.548C424.614,593.479,423.062,591.891,421.146,591.891L421.146,591.891zM421.146,591.891",onclick:function(){t.$emit("full")}}}},tooltip:{trigger:"item",formatter:function(t){if(void 0===t.value[2]){for(var e="",a=0;a<i.length;a++)if(t.name===i[a].name){e+=i[a].name+":<br>";for(var n=0;n<i[a].value.length;n++)e+=i[a].value[n].name+":"+i[a].value[n].value+"<br>"}return console.log(e),e}e="";for(var s=0;s<i.length;s++)if(t.name===i[s].name){e+=i[a].name+":<br>";for(var l=0;l<i[s].value.length;l++)e+=i[s].value[l].name+":"+i[s].value[l].value+"<br>"}return console.log(e),e}},legend:{y:"bottom",x:"right",data:["credit_pm2.5"],textStyle:{color:"#fff"}},visualMap:{show:!0,min:0,max:25e4,left:"right",top:"bottom",text:["高","低"],calculable:!0,seriesIndex:[1],inRange:{color:["#fcecd5","#f7aa8f"]}},geo:{show:!0,map:"china",label:{normal:{show:!1},emphasis:{show:!1}},roam:!0,itemStyle:{normal:{areaColor:"#031525",borderColor:"#3B5077"},emphasis:{areaColor:"#2B91B7"}}},series:[{name:"散点",type:"scatter",coordinateSystem:"geo",data:s(e),symbolSize:function(t){return t[2]/1e4},label:{normal:{formatter:"{b}",position:"right",show:!0},emphasis:{show:!0}},itemStyle:{normal:{color:"#05C3F9"}}},{type:"map",map:"china",geoIndex:0,aspectScale:.75,showLegendSymbol:!1,label:{normal:{show:!0},emphasis:{show:!1,textStyle:{color:"#fff"}}},roam:!0,itemStyle:{normal:{areaColor:"#031525",borderColor:"#3B5077"},emphasis:{areaColor:"#2B91B7"}},animation:!1,data:e},{name:"点",type:"scatter",coordinateSystem:"geo",symbol:"pin",symbolSize:function(t){var e,a=60/299e3;return e=80-3e5*a,a*t[2]+e},label:{normal:{show:!0,textStyle:{color:"#fff",fontSize:9}}},itemStyle:{normal:{color:"#F62157"}},zlevel:6,data:s(e)},{name:"Top 5",type:"effectScatter",coordinateSystem:"geo",data:s(e.sort(function(t,e){return e.value-t.value}).slice(0,5)),symbolSize:function(t){return t[2]/1e4},showEffectOn:"render",rippleEffect:{brushType:"stroke"},hoverAnimation:!0,label:{normal:{formatter:"{b}",position:"right",show:!0}},itemStyle:{normal:{color:"yellow",shadowBlur:10,shadowColor:"yellow"}},zlevel:1}]})}}},I=Object(u.a)(F,function(){var t=this.$createElement;return(this._self._c||t)("div",{class:this.className,style:{height:this.height,width:this.width}})},[],!1,null,null,null);I.options.__file="mapChart.vue";var H=I.exports,N={newVisitis:{a:[100,120,161,134,105,160,178],b:[120,82,91,127,162,140,145]},messages:{expectedData:[200,192,120,144,160,130,140],actualData:[180,160,151,106,145,150,130]}},M={components:{DropdownMenu:s.a,scatter:m,LineChart:f,BarChart:b,mapChart:H,newActivity:D,scatterDetail:$},data:function(){return{dialogFormVisible:!1,scatterDetailShow:!1,lineChartData:N.newVisitis,activityDemons:[],activityList:[],tags:[{name:"标签一",type:""},{name:"标签二",type:"success"},{name:"标签三",type:"info"},{name:"标签四",type:"warning"},{name:"标签五",type:"danger"}],isFullscreen:!1}},computed:{mapheight:function(){return this.isFullscreen?"100%":"300px"}},created:function(){this.getActivityList(),this.getActivityDemons(),this.initActivity()},methods:{initActivity:function(){var t=this;(function(t){return Object(x.a)({url:"/app/analysis-data/active",method:"post",params:t})})().then(function(e){t.tags=e.data.data.label})},getActivityDemons:function(){var t=this;L().then(function(e){console.log(e.data,"=============="),t.activityDemons=e.data})},fullScreen:function(){var t=this;console.log(this.$refs.map),n.a.enabled&&(n.a.toggle(this.$refs.map),this.isFullscreen=!0,n.a.on("change",function(){n.a.isFullscreen?t.isFullscreen=!0:t.isFullscreen=!1}))},getActivityList:function(){var t=this;S().then(function(e){console,t.activityList=e.data.data})},handleClose:function(t){this.tags.splice(this.tags.indexOf(t),1)},newActivity:function(){this.dialogFormVisible=!0},cancelNew:function(){this.dialogFormVisible=!1},newBuild:function(){this.dialogFormVisible=!1},showScatterDetail:function(){this.scatterDetailShow=!0},cancelCatterDetail:function(){this.scatterDetailShow=!1}}},V=(a("k2WF"),Object(u.a)(M,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container documentation-container"},[a("el-form",{ref:"form",attrs:{inline:!0}},[a("el-form-item",{attrs:{"label-width":t.formLabelWidth,label:"分析维度选择"}},[a("el-select",{attrs:{placeholder:"PV"},model:{value:t.form,callback:function(e){t.form=e},expression:"form"}},t._l(t.activityDemons,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("el-form-item",{staticStyle:{float:"right"}},[a("el-button",{attrs:{type:"warning",icon:"el-icon-plus"},on:{click:t.newActivity}},[t._v("新建活动分析")])],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"32px",background:"white"},attrs:{gutter:20}},[a("el-col",{attrs:{span:15}},[a("div",{staticClass:"chart-wrapper"},[a("scatter",{on:{scatterDetail:t.showScatterDetail}})],1)]),t._v(" "),a("el-col",{attrs:{span:9}},[a("div",{staticClass:"tags"},[a("div",{ref:"map",staticClass:"title"},[t._v("统计字段管理")]),t._v(" "),a("div",{staticClass:"labels"},t._l(t.tags,function(e){return a("el-tag",{key:e.name,staticClass:"tag",attrs:{"disable-transitions":!1,closable:"",type:"warning"},on:{close:function(a){t.handleClose(e)}}},[t._v(t._s(e.name))])}))])])],1),t._v(" "),a("el-form",{ref:"form",attrs:{inline:!0}},[a("el-form-item",{attrs:{"label-width":t.formLabelWidth,label:"需要分析的活动"}},[a("el-cascader",{attrs:{options:t.activityList,props:t.props,placeholder:"试试搜索：指南","change-on-select":""},on:{change:t.enterChange}})],1),t._v(" "),a("el-form-item",{attrs:{"label-width":t.formLabelWidth,label:"需分析的活动类型\n"}},[a("el-select",{attrs:{placeholder:"PV"},model:{value:t.form,callback:function(e){t.form=e},expression:"form"}},t._l(t.activityDemons,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})}))],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"32px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:16}},[a("div",{staticClass:"chart-wrapper"},[a("line-chart",{attrs:{"chart-data":t.lineChartData}})],1)]),t._v(" "),a("el-col",{attrs:{span:8}},[a("div",{ref:"map",staticClass:"chart-wrapper"},[a("map-chart",{attrs:{height:t.mapheight},on:{full:t.fullScreen}})],1)])],1),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"32px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:18}},[a("div",{staticClass:"chart-wrapper"},[a("bar-chart",{attrs:{"chart-data":t.lineChartData}})],1)]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"chart-wrapper"},[a("div",{staticClass:"rankWrapper"},[a("div",{staticClass:"title"},[t._v("入口各区域占比排行")]),t._v(" "),a("div",{staticClass:"contentWrapper"},t._l(5,function(e){return a("div",{key:e,staticClass:"contentItem"},[a("div",{staticClass:"index"},[1==e?a("svg-icon",{staticStyle:{fill:"#e12c5e"},attrs:{"icon-class":"first"}}):t._e(),t._v(" "),2==e?a("svg-icon",{staticStyle:{fill:"#fbce07"},attrs:{"icon-class":"second"}}):t._e(),t._v(" "),3==e?a("svg-icon",{staticStyle:{fill:"#a6a6a6"},attrs:{"icon-class":"third"}}):t._e(),t._v(" "),e>3?a("span",[t._v(t._s(e))]):t._e()],1),t._v(" "),a("div",{staticClass:"dist"},[t._v("河北")]),t._v(" "),a("div",{staticClass:"percent"},[t._v("24.8%")])])}))])])])],1),t._v(" "),a("new-activity",{attrs:{"dialog-form-visible":t.dialogFormVisible},on:{cancel:t.cancelNew,newBuild:t.newBuild}}),t._v(" "),a("scatter-detail",{attrs:{"scatter-detail-show":t.scatterDetailShow},on:{cancel:t.cancelCatterDetail}})],1)},[],!1,null,"9e7375cc",null));V.options.__file="index.vue";e.default=V.exports},jrF1:function(t,e,a){},k2WF:function(t,e,a){"use strict";var i=a("kPIW");a.n(i).a},k5sZ:function(t,e,a){},kPIW:function(t,e,a){},nIhZ:function(t,e,a){},s6Sh:function(t,e,a){"use strict";var i={props:{items:{type:Array,default:function(){return[]}},title:{type:String,default:"vue"}},data:function(){return{isActive:!1}},methods:{clickTitle:function(){this.isActive=!this.isActive}}},n=(a("CHEL"),a("KHd+")),s=Object(n.a)(i,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"share-dropdown-menu",class:{active:t.isActive}},[a("div",{staticClass:"share-dropdown-menu-wrapper"},[a("span",{staticClass:"share-dropdown-menu-title",on:{click:function(e){return e.target!==e.currentTarget?null:t.clickTitle(e)}}},[t._v(t._s(t.title))]),t._v(" "),t._l(t.items,function(e,i){return a("div",{key:i,staticClass:"share-dropdown-menu-item"},[e.href?a("a",{attrs:{href:e.href,target:"_blank"}},[t._v(t._s(e.title))]):a("span",[t._v(t._s(e.title))])])})],2)])},[],!1,null,null,null);s.options.__file="dropdownMenu.vue";e.a=s.exports}}]);